AuthType=auth/munge
CryptoType=crypto/munge
MpiDefault=pmi2
ProctrackType=proctrack/cgroup
ReturnToService=1
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmctldPort=6820-6867
SlurmdPidFile=/var/run/slurmd.pid
SlurmdPort=6818
SlurmdSpoolDir=/var/spool/slurm
SlurmUser=slurm
StateSaveLocation=/var/spool/slurm
SwitchType=switch/none
TaskPlugin=task/cgroup

AccountingStorageType=accounting_storage/slurmdbd
#AccountingStorageEnforce=associations

# TIMERS
InactiveLimit=0
KillWait=30
SlurmctldTimeout=120
SlurmdTimeout=300
Waittime=0

# SCHEDULING
#FastSchedule=1
SchedulerType=sched/backfill
SchedulerPort=7321
SelectType=select/cons_res
SelectTypeParameters=CR_Core_Memory
MaxTasksPerNode=1024
MaxJobCount=10000

# JOB PRIORITY
#PriorityFlags=
#PriorityType=priority/basic
#PriorityDecayHalfLife=
#PriorityCalcPeriod=
#PriorityFavorSmall=
#PriorityMaxAge=
#PriorityUsageResetPeriod=
#PriorityWeightAge=
#PriorityWeightFairshare=
#PriorityWeightJobSize=
#PriorityWeightPartition=
#PriorityWeightQOS=

# LOGGING AND ACCOUNTING
# AccountingStorageType=accounting_storage/none
AccountingStoreJobComment=YES
ClusterName=triannot
JobCompLoc=/var/log/slurm/jobcomp.log
JobCompType=jobcomp/filetxt
JobAcctGatherFrequency=15
JobAcctGatherType=jobacct_gather/linux
SlurmctldDebug=3
SlurmctldLogFile=/var/log/slurm/slurmctld.log
SlurmdLogFile=/var/log/slurm/slurmd.log
SlurmdDebug=5

ControlMachine={{ master_name }}
ControlAddr={{ master_name }}.oscarlocal
AccountingStorageHost={{ master_name }}.oscarlocal

# COMPUTE NODES
NodeName={{ node_prefix }}[0-{{ node_max }}] RealMemory={{ node_ram_mb }} Sockets={{ node_sockets }} CoresPerSocket=2 ThreadsPerCore=1 State=UNKNOWN
PartitionName=normal Nodes={{ node_prefix }}[0-{{ node_max }}] Default=YES DefMemPerCPU=3000 MaxTime=30-0 State=UP

